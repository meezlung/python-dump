# pyright: strict

from pytest import raises
from cs12232prac05c import first_digits_histogram


def test_first_digits_histogram_invalid():
    with raises(ValueError):
        first_digits_histogram((1, 1, -1, 1, 1))
    with raises(ValueError):
        first_digits_histogram((0, -1, 2, 3, 4, 5, 6, 7, 8, 9))
    with raises(ValueError):
        first_digits_histogram((0, 1, 2, -3, 4, 5, 6, 7, 8, 9))
    with raises(ValueError):
        first_digits_histogram((0, 1, 2, 3, 4, 5, 6, 7, 8, -9))
    with raises(ValueError):
        first_digits_histogram((0, 1, 2, 3, 4, 5, 6, 7, 8, 9, -10))


def test_first_digits_histogram_valid():
    # data from Pike County
    histogram1: list[str] = first_digits_histogram((
            31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
            16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
            98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
            70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        ))

    histogram2: list[str] = first_digits_histogram((
            31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
            16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
            98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
            70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
            0, 0, 12
        ))

    histogram3: list[str] = first_digits_histogram((31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
            16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
            98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
            70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
            31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
            16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
            98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
            70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
            31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
            16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
            98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
            70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
            31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
            16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
            98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
            70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        ))
    
    histogram4: list[str] = first_digits_histogram((
        31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12, 31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,31, 41, 59, 26, 53, 58, 97, 93, 23, 84, 62, 64, 33, 83, 27, 95,  2, 88, 41, 97,
        16, 93, 99, 37, 51,  5, 82,  9, 74, 94, 45, 92, 30, 78, 16, 40, 62, 86, 20, 89,
        98, 62, 80, 34, 82, 53, 42, 11, 70, 67, 98, 21, 48,  8, 65, 13, 28, 23,  6, 64,
        70, 93, 84, 46,  9, 55,  5, 82, 23, 17, 53, 59, 40, 81, 28, 48, 11, 17, 45,  2,
        0, 0, 12,
    ))

    
    # let's print the grid
    for line in histogram1:
        print(line)
    
    for line in histogram2:
        print(line)
    
    for line in histogram3:
        print(line)

    assert histogram1 == [
        '...........................##',
        '...........................##',
        '........................##.##',
        '........................##.##',
        '......##................##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '......##....##.##.##....##.##',
        '......##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##.##.##.##.##....##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
    ]
    
    assert histogram2 == [
        '...........................##',
        '...........................##',
        '........................##.##',
        '........................##.##',
        '......##................##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##.##.##.##.##....##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '##.##.##.##.##.##.##.##.##.##',
        '##.##.##.##.##.##.##.##.##.##',
        '##.##.##.##.##.##.##.##.##.##',
    ]

    assert histogram3 == [
        '...........................##',
        '...........................##',
        '........................##.##',
        '........................##.##',
        '......##................##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '......##....##.##.##....##.##',
        '......##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##.##.##.##.##....##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
    ]

    assert histogram4 == [
        '...........................##',
        '...........................##',
        '........................##.##',
        '........................##.##',
        '......##................##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '......##....##.##.......##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##....##.##.##....##.##',
        '...##.##.##.##.##.##....##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '...##.##.##.##.##.##.##.##.##',
        '##.##.##.##.##.##.##.##.##.##',
        '##.##.##.##.##.##.##.##.##.##',
        '##.##.##.##.##.##.##.##.##.##',
    ]

